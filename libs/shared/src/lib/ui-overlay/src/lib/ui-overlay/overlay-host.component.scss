/* libs/shared/src/lib/ui-overlay/src/lib/overlay/overlay-host.component.scss */

:host { display: block; }

.hhsc-overlay-root {
  position: fixed;
  inset: 0;
  z-index: var(--z-overlayRoot, 2000);
  overflow: hidden;
}

/* Backdrop full screen by default */
.hhsc-overlay-backdrop {
  position: absolute;
  inset: 0;
  border: 0;
  padding: 0;
  background: rgba(2, 6, 23, 0.62);
  z-index: var(--z-overlayBackdrop, 2001);
  cursor: default;
}

.hhsc-sheet {
  position: absolute;
  bottom: 0;
  z-index: var(--z-overlaySheet, 2002);

  width: min(720px, calc(100% - 24px));
  max-height: 82dvh;

  border-radius: 16px 16px 0 0;
  border: 1px solid var(--clr-line, rgba(34, 197, 94, 0.35));
  background: var(--clr-card, #020617);
  box-shadow: var(--shadow-md, 0 12px 28px rgba(0, 0, 0, 0.7));

  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow: hidden;

  padding: 12px 14px calc(14px + env(safe-area-inset-bottom));
}

/* inner column */
.hhsc-sheet-inner {
  width: 100%;
  max-width: 640px;
  margin-inline: auto;
  min-width: 0;
}

.hhsc-sheet--sm { width: min(520px, calc(100% - 24px)); }
.hhsc-sheet--md { width: min(720px, calc(100% - 24px)); }
.hhsc-sheet--lg { width: min(960px, calc(100% - 24px)); }

.hhsc-sheet--full {
  width: 100%;
  max-height: 92dvh;
  border-radius: 16px 16px 0 0;
}

/* ==========================================================
   DESKTOP: CENTER TO CONTENT PANE (NOT FULL SCREEN)
   Use 100vw because overlay is fixed; % is not the content pane.
   ========================================================== */
@media (min-width: 769px) {
  .hhsc-overlay-backdrop {
    left: var(--sidebar-w, 220px);
  }

  .hhsc-sheet {
    left: calc(var(--sidebar-w, 220px) + (100vw - var(--sidebar-w, 220px)) / 2);
    transform: translateX(-50%);
  }

  .hhsc-sheet--full {
    left: var(--sidebar-w, 220px);
    right: 0;
    transform: none;
  }
}

/* Collapsed sidebar (72px) */
:host-context(.app-shell.collapsed) .hhsc-overlay-backdrop { left: 72px; }
:host-context(.app-shell.collapsed) .hhsc-sheet {
  left: calc(72px + (100vw - 72px) / 2);
  transform: translateX(-50%);
}
:host-context(.app-shell.collapsed) .hhsc-sheet--full {
  left: 72px;
  right: 0;
  transform: none;
}

/* Mobile: full screen */
@media (max-width: 768px) {
  .hhsc-overlay-backdrop { left: 0; }
  .hhsc-sheet { left: 50%; transform: translateX(-50%); }
  .hhsc-sheet--full { left: 0; right: 0; transform: none; }
}
